# equinix_ecx_l2_serviceprofile

[back](../equinix.md)

### Index

- [Example Usage](#example-usage)
- [Variables](#variables)
- [Resource](#resource)
- [Outputs](#outputs)

### Terraform

```terraform
terraform {
  required_providers {
    equinix = ">= 1.0.2"
  }
}
```

[top](#index)

### Example Usage

```terraform
module "equinix_ecx_l2_serviceprofile" {
  source = "./modules/equinix/r/equinix_ecx_l2_serviceprofile"

  # api_integration - (optional) is a type of bool
  api_integration = null
  # authkey_label - (optional) is a type of string
  authkey_label = null
  # bandwidth_alert_threshold - (required) is a type of number
  bandwidth_alert_threshold = null
  # bandwidth_threshold_notifications - (required) is a type of set of string
  bandwidth_threshold_notifications = []
  # connection_name_label - (required) is a type of string
  connection_name_label = null
  # ctag_label - (optional) is a type of string
  ctag_label = null
  # description - (optional) is a type of string
  description = null
  # equinix_managed_port_vlan - (optional) is a type of bool
  equinix_managed_port_vlan = null
  # integration_id - (optional) is a type of string
  integration_id = null
  # name - (required) is a type of string
  name = null
  # oversubscription - (optional) is a type of string
  oversubscription = null
  # oversubscription_allowed - (optional) is a type of bool
  oversubscription_allowed = null
  # private - (optional) is a type of bool
  private = null
  # private_user_emails - (optional) is a type of set of string
  private_user_emails = []
  # profile_statuschange_notifications - (required) is a type of set of string
  profile_statuschange_notifications = []
  # redundancy_required - (optional) is a type of bool
  redundancy_required = null
  # secondary_vlan_from_primary - (optional) is a type of bool
  secondary_vlan_from_primary = null
  # servicekey_autogenerated - (optional) is a type of bool
  servicekey_autogenerated = null
  # speed_customization_allowed - (optional) is a type of bool
  speed_customization_allowed = null
  # speed_from_api - (optional) is a type of bool
  speed_from_api = null
  # tag_type - (optional) is a type of string
  tag_type = null
  # vc_statuschange_notifications - (required) is a type of set of string
  vc_statuschange_notifications = []

  features = [{
    allow_remote_connections = null
    test_profile             = null
  }]

  port = [{
    metro_code = null
    uuid       = null
  }]

  speed_band = [{
    speed      = null
    speed_unit = null
  }]
}
```

[top](#index)

### Variables

```terraform
variable "api_integration" {
  description = "(optional)"
  type        = bool
  default     = null
}

variable "authkey_label" {
  description = "(optional)"
  type        = string
  default     = null
}

variable "bandwidth_alert_threshold" {
  description = "(required)"
  type        = number
}

variable "bandwidth_threshold_notifications" {
  description = "(required)"
  type        = set(string)
}

variable "connection_name_label" {
  description = "(required)"
  type        = string
}

variable "ctag_label" {
  description = "(optional)"
  type        = string
  default     = null
}

variable "description" {
  description = "(optional)"
  type        = string
  default     = null
}

variable "equinix_managed_port_vlan" {
  description = "(optional)"
  type        = bool
  default     = null
}

variable "integration_id" {
  description = "(optional)"
  type        = string
  default     = null
}

variable "name" {
  description = "(required)"
  type        = string
}

variable "oversubscription" {
  description = "(optional)"
  type        = string
  default     = null
}

variable "oversubscription_allowed" {
  description = "(optional)"
  type        = bool
  default     = null
}

variable "private" {
  description = "(optional)"
  type        = bool
  default     = null
}

variable "private_user_emails" {
  description = "(optional)"
  type        = set(string)
  default     = null
}

variable "profile_statuschange_notifications" {
  description = "(required)"
  type        = set(string)
}

variable "redundancy_required" {
  description = "(optional)"
  type        = bool
  default     = null
}

variable "secondary_vlan_from_primary" {
  description = "(optional)"
  type        = bool
  default     = null
}

variable "servicekey_autogenerated" {
  description = "(optional)"
  type        = bool
  default     = null
}

variable "speed_customization_allowed" {
  description = "(optional)"
  type        = bool
  default     = null
}

variable "speed_from_api" {
  description = "(optional)"
  type        = bool
  default     = null
}

variable "tag_type" {
  description = "(optional)"
  type        = string
  default     = null
}

variable "vc_statuschange_notifications" {
  description = "(required)"
  type        = set(string)
}

variable "features" {
  description = "nested block: NestingSet, min items: 1, max items: 1"
  type = set(object(
    {
      allow_remote_connections = bool
      test_profile             = bool
    }
  ))
}

variable "port" {
  description = "nested block: NestingSet, min items: 1, max items: 0"
  type = set(object(
    {
      metro_code = string
      uuid       = string
    }
  ))
}

variable "speed_band" {
  description = "nested block: NestingSet, min items: 0, max items: 0"
  type = set(object(
    {
      speed      = number
      speed_unit = string
    }
  ))
  default = []
}
```

[top](#index)

### Resource

```terraform
resource "equinix_ecx_l2_serviceprofile" "this" {
  api_integration                    = var.api_integration
  authkey_label                      = var.authkey_label
  bandwidth_alert_threshold          = var.bandwidth_alert_threshold
  bandwidth_threshold_notifications  = var.bandwidth_threshold_notifications
  connection_name_label              = var.connection_name_label
  ctag_label                         = var.ctag_label
  description                        = var.description
  equinix_managed_port_vlan          = var.equinix_managed_port_vlan
  integration_id                     = var.integration_id
  name                               = var.name
  oversubscription                   = var.oversubscription
  oversubscription_allowed           = var.oversubscription_allowed
  private                            = var.private
  private_user_emails                = var.private_user_emails
  profile_statuschange_notifications = var.profile_statuschange_notifications
  redundancy_required                = var.redundancy_required
  secondary_vlan_from_primary        = var.secondary_vlan_from_primary
  servicekey_autogenerated           = var.servicekey_autogenerated
  speed_customization_allowed        = var.speed_customization_allowed
  speed_from_api                     = var.speed_from_api
  tag_type                           = var.tag_type
  vc_statuschange_notifications      = var.vc_statuschange_notifications

  dynamic "features" {
    for_each = var.features
    content {
      allow_remote_connections = features.value["allow_remote_connections"]
      test_profile             = features.value["test_profile"]
    }
  }

  dynamic "port" {
    for_each = var.port
    content {
      metro_code = port.value["metro_code"]
      uuid       = port.value["uuid"]
    }
  }

  dynamic "speed_band" {
    for_each = var.speed_band
    content {
      speed      = speed_band.value["speed"]
      speed_unit = speed_band.value["speed_unit"]
    }
  }

}
```

[top](#index)

### Outputs

```terraform
output "id" {
  description = "returns a string"
  value       = equinix_ecx_l2_serviceprofile.this.id
}

output "state" {
  description = "returns a string"
  value       = equinix_ecx_l2_serviceprofile.this.state
}

output "uuid" {
  description = "returns a string"
  value       = equinix_ecx_l2_serviceprofile.this.uuid
}

output "this" {
  value = equinix_ecx_l2_serviceprofile.this
}
```

[top](#index)